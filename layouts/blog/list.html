<!DOCTYPE html>
<html lang="{{ if $.Params.language }}{{ slicestr $.Params.language  0 2 }}{{ else }}{{ $.Site.Language }}{{ end }}">

<head>
	{{ partial "head.html" . }}
	{{ partial "social-meta.html" . }}
	{{ partial "stylesheets.html" . }}
</head>

<body class="flex flex-col min-h-screen blog" x-data="{ tab: 'all' }">
	{{ partial "navigation.html" . }}
	<div class='sticky top-0 bg-white mb-3 {{if eq .Page.Title "Blog"}}border-b{{end}} z-30'>
		<div class="container mx-auto my-4">
			<button :class="{ 'font-bold': tab === 'all' }" @click="tab = 'all'">All articles</button>
			{{ $categories := slice }}
			{{ range .Data.Pages }}
			{{ $categories = $categories | append .Params.Category }}
			{{ end }}
			{{ range ( $categories | uniq ) }}

			<button class="px-2" :class="{ 'font-bold': tab ===  '{{ . | urlize }}'}"
				@click="tab = '{{ . | urlize}}'">{{ . | humanize }}</button>
			{{ end }}
		</div>
	</div>
	<main class="flex flex-grow">
		<div class=" container mx-auto">
			<div class="prose">
				<!-- <h1>{{ .Title }}Test</h1> -->
				<p>{{ .Content }}</p>
			</div>
			<section class="grid md:grid-cols-2 sm:grid-cols-1 lg:grid-cols-3 mb-10">
				{{ range .Data.Pages }}
				<div x-show="tab === '{{.Params.Category}}' || tab === 'all' " class="post bg-white overflow-hidde mr-8"
					data-groups="[&quot;{{ .Params.Category | urlize }}&quot;]">
					<header>
						<a class="image" href="{{ .Permalink }}">
							<div class='post__image w-full bg-cover bg-center pb-60 mb-6 rounded-xl {{if eq (.Params.thumbnail | relURL) "/"}} bg-gradient-to-r from-gray-400 via-gray-500 to-gray-500{{end}}'
								style="background-image: url('{{ .Params.thumbnail | relURL }}')"> </div>
						</a>
					</header>
					<div class="m-2 text-justify text-sm">
						<div class="flex flex-row">
							<p class="text-left mr-2 text-grey">{{ dateFormat "January 2, 2006" .Date }}</p>
							<button class="text-text_secondary"
								@click="tab = '{{.Params.Category}}'">{{upper .Params.Category}}</button>
						</div>
						<h2 class="font-bold text-lg h-2 mb-8 hover:underline">
							<a href="{{ .Permalink }}">
								{{ .Title }}
							</a>
						</h2>

						<p class="text-xs">
							<!-- {{ .Summary }} -->
						</p>
					</div>
				</div>
				{{ end }}
			</section>
		</div>
	</main>

	{{ partial "footer.html" . }}
	{{ partial "javascript-libraries.html" . }}
</body>

</html>
